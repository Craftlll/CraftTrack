DATA:
  MAX_SAMPLE_INTERVAL: 200
  MEAN:
  - 0.485
  - 0.456
  - 0.406
  SEARCH:
    CENTER_JITTER: 3
    FACTOR: 4.0
    SCALE_JITTER: 0.25
    SIZE: 256  # ARTrack 标准输入尺寸
  STD:
  - 0.229
  - 0.224
  - 0.225
  TEMPLATE:
    CENTER_JITTER: 0
    FACTOR: 2.0
    SCALE_JITTER: 0
    SIZE: 128
  TRAIN:
    DATASETS_NAME:
    - LASOT
    - GOT10K_vottrain
    - COCO17
    - TRACKINGNET
    DATASETS_RATIO:
    - 1
    - 1
    - 1
    - 1
    SAMPLE_PER_EPOCH: 60000
  VAL:
    DATASETS_NAME:
    - GOT10K_votval
    DATASETS_RATIO:
    - 1
    SAMPLE_PER_EPOCH: 10000

MODEL:
  NAME: "artrackmamba_seq"  # 对应我们注册的模型名称
  
  BACKBONE:
    # 使用 Vim-Small (384维) 作为基准，比 Tiny 强，比 Base 快
    TYPE: "vim_small_patch16_224_bimamba_v2_final"
    STRIDE: 16
    PRETRAINED: True
    # 请确保下载了官方权重并放在此路径
    PRETRAINED_PATH: "pretrained_models/vim/vim_s_midclstok_80p5acc.pth"
    
    # Mamba 特有配置 (通常由 Type 决定，但可在此覆盖)
    DROP_PATH_RATE: 0.1

  HEAD:
    TYPE: "CENTER"
    NUM_CHANNELS: 384  # 必须与 Vim-Small 的 embed_dim 一致 (Tiny=192, Small=384, Base=768)
    VOCAB_SIZE: 4096   # 坐标离散化的词表大小
    
  # 创新点配置：记忆库 (RAG)
  MEMORY:
    USE: True
    CAPACITY: 50        # 记忆库最大帧数
    UPDATE_INTERVAL: 5  # 每隔几帧尝试更新一次
    CONF_THRESHOLD: 0.7 # IoU 置信度阈值

  EXTRA:
    SIGMA_FACTOR: 2.0 # 这里的参数视具体实现而定

TRAIN:
  BACKBONE_MULTIPLIER: 0.1  # 骨干网学习率倍率 (Vim 预训练较好，建议由 0.1 开始)
  BATCH_SIZE: 32            # Mamba 显存占用低，可尝试调大到 64
  DEEP_SUPERVISION: False
  EPOCH: 60                 # 训练总轮数
  grad_clip_max_norm: 0.1
  LR: 0.0001                # 基础学习率
  MIN_LR: 0.00001
  NUM_WORKER: 8
  OPTIMIZER: "ADAMW"
  LR_SCHEDULER: "cosine"    # 余弦退火
  PRINT_INTERVAL: 50
  SCHEDULER:
    TYPE: "step"
    DECAY_RATE: 0.1
  VAL_EPOCH_INTERVAL: 5
  WEIGHT_DECAY: 0.0001
  AMP: True                 # 【重要】Mamba 强烈建议开启混合精度训练

TEST:
  EPOCH: 60
  SEARCH_FACTOR: 4.0
  SEARCH_SIZE: 256
  TEMPLATE_FACTOR: 2.0
  TEMPLATE_SIZE: 128